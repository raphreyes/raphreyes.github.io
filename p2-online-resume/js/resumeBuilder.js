var bio = {
    "Name": "Raphael Reyes",
    "role": "Front End Web Design",
    "photo": "images/raph.jpg",
    "contacts": {
        "mobile": "408-394-4979",
        "telLink": "14083944979",
        "email": "raph@raphaelreyes.com",
        "twitter": "@raph_reyes",
        "github": "/raphreyes",
        "blog": "http://nonshape.com/blog",
        "location": "Fresno, CA"
    },
    "message": "Welcome! This page was last updated in Summer of 2016.",
    "skills": [
        "HTML",
        "CSS",
        "JavaScript",
        "JQuery",
        "JSON",
        "GIT/GITHUB",
        "Python",
        "SQL",
        "Photoshop",
        "Wordpress",
        "3d Modeling / Rendering",
        "Non-Linear Video Editing"
    ]
};

var education = {
    "schools": [{
        "name": "UCSB",
        "degree": "BA",
        "dates": "1991 - 1993",
        "location": "Goleta, CA",
        "major": "Studio Art"
    }, {
        "name": "Udacity",
        "degree": "FEND Nanodegree",
        "dates": "Oct 2015 - Jul 2016",
        "location": "",
        "major": "Front End Developer (HTML, CSS, JavaScript)"
    }, {
        "name": "Schoolism",
        "degree": "Fundamentals of Light, Gesture Drawing",
        "dates": "Sep 2015 -  Sep 2016",
        "location": "",
        "major": "Fundamentals of Light, Gesture Drawing"
    }],
    "online": []
};

var work = {
    "jobs": [{
        "name": "QC Manufacturing, Inc.",
        "title": "Web Design, Marketing",
        "dates": "May 2015 - Current",
        "location": "Temecula, CA",
        "desc": "Build and maintain company websites (consumer site, and Dealer Accounts site.) within Wordpress using HTML, CSS, Javascript.<br/>" +
            "Migrate data from SalesForce and Quickbooks to SAP using Excel, and Access / SQL.<br/>" +
            "Create reports from SAP using SQL, Excel and Python.<br/>Process graphics using Photoshop.<br/>" +
            "Integrate SAP data with website using Javascript / JSON<br/>Implement and maintain EDI system integration with SAP"
    }, {
        "name": "Lucky Money, Inc.",
        "title": "Web Design, Advertising",
        "dates": "July 2012 - May 2015",
        "location": "San Francisco, CA",
        "desc": "Maintain and create designs on multiple company websites using Photoshop, HTML, CSS and Javascript.<br/>" +
            "Assist development of back-end (administrative) maintenance and design of same websites in Photoshop, HTML, CSS, and Javascript.<br/>" +
            "Produce marketing materials and advertising using Photoshop.<br/>" +
            "Create ads and Manage advertising campaigns in Google Adwords, Google Analytics, Yahoo, Bing, Yelp, Facebook.<br/>" +
            "Train employees on new transaction platform with self made videos and remote training using Teamviewer and videocapture software."
    }, {
        "name": "SiteBlasters",
        "title": "Web Design, Business",
        "dates": "July 2010 - Dec 2013",
        "location": "Modesto, CA",
        "desc": "Build websites for small local businesses in the Central Valley area.<br/>" +
            "Create custom Joomla and Wordpress sites using HTML, CSS, Javascript, and Photoshop."
    }, {
        "name": "Trillora",
        "title": "Web Design, Product management",
        "dates": "July 2005 - Dec 2010",
        "location": "Modesto, CA",
        "desc": "Use HTML, CSS, Javascript to implement design and prodcut updates Yahoo Shopping e-commerce platform.<br/>" +
            "Maintain database of product listing with Access, SQL, and Excel.<br/>" +
            "Edit product images with Photoshop for placement on website." +
            "Manage product feeds for Google, Yahoo, and other shopping syndications."
    }, {
        "name": "BlueSky",
        "title": "Asset Conversion",
        "dates": "April 2004 - July 205",
        "location": "Palo Alto, CA",
        "desc": "Clean 3d assets using Maya to convert XBox assets for Playstation development.<br/>" +
            "Write Maya scripts to convert game levels from XBox to Playstation.<br/>"
    }, {
        "name": "Freelance",
        "title": "Web Design",
        "dates": "Oct 2002 - Feb 2004",
        "location": "Tokyo / Aizuwakamatsu, Japan",
        "desc": "Improved my HTML and CSS skills through self-study and creating websites for myself and friends<br/>" +
            "Study historical Japanese architecture/design from temples and castles.<br/>" +
            ""
    }, {
        "name": "AndNow LLC",
        "title": "Art Director",
        "dates": "July 1996 - Aug 2002",
        "location": "Half Moon Bay, CA",
        "desc": "Create models with 3D Studio Max and Maya for use in animation sequences.<br/>" +
            "Created concept animations with 3d Max and Adobe Premiere for project pitch meetings allowing Executive Director to acquire funding.<br/>" +
            "Managed all visual media assets with scheduled backups and offsite storage.<br/>" +
            "Directed international teams in Budapest and Moscow for three concurrent game development projects.<br/>"
    }, {
        "name": "SEGA",
        "title": "Internal / 3rd Pary Tech Support",
        "dates": "Dec 1992 - Jun 1996",
        "location": "San Mateo, CA",
        "desc": "Troubleshoot, repair or replace non-functioning game console boards and chips.<br/>" +
            "Use MS Access to maintain hardware inventory for development systems issued internally and to 3rd party developers.<br/>" +
            "Setup and troubleshoot conference room hardware and minor internal PC software issues.<br/>"
    }]
};

var projects = {
    "projects": [{
        "name": "Test Driven Development",
        "title": "Test Driven Development",
        "dates": "Jul 2016",
        "location": "",
        "desc": "Use Jasmine JS to test page functionality<br/>" +
            "Create tests for a feed reader application using Jasmine JS 2.1.2 to make sure all features work as intended and ensure future features do not break existing features."
    }, {
        "name": "Neighborhood Map Project",
        "title": "Amusement Park Map Project",
        "dates": "May 2015",
        "location": "",
        "desc": "Build a map web application<br/>" +
            "Build an interactive map of North America's largest Entertainment Parks using Google Maps API, Wikipedia API, and Knockout JS."
    }, {
        "name": "Website Optimization",
        "title": "Website Optimization",
        "dates": "Mar 2016",
        "location": "",
        "desc": "Improve page speed to 90 or above<br/>" +
            "Optimize page to remove render blocking js and css to achieve a framerate of 60fps."
    }, {
        "name": "Javascript Arcade Game",
        "title": "Bugboy",
        "dates": "Dec 2015",
        "location": "",
        "desc": "Browser game running javascript<br/>" +
            "Run game using desktop browser and keyboard to control Bugboy. Help him reach the water."
    }, {
        "name": "Resume with JavaScript and JSON",
        "title": "Resume with JavaScript and JSON",
        "dates": "Nov 2015",
        "location": "",
        "desc": "Build a resume page using Javascript and JSON.",
        "image": "/images/project2.jpg"
    }, {
        "name": "SalesForce Quickbooks to SAP Migration",
        "title": "SalesForce Quickbooks to SAP Migration",
        "dates": "Nov 2015",
        "location": "",
        "desc": "Parse raw dump of Salesforce data tables using SQL<br/>" +
            "Format data for import into accounts, leads and contacts with all pertinent data into SAP Business One."
    }, {
        "name": "Build a Portfolio Website",
        "title": "Build a Portfolio Website",
        "dates": "Oct 2015",
        "location": "",
        "desc": "Create an online portfolio for all my website projects. Website design should be responsive to fit all screens.",
        "image": "/images/project1.jpg"
    }, {
        "name": "ControlMoney Transition",
        "title": "QA and Training for ControlMoney Transition",
        "dates": "Nov 2013 - May 2015",
        "location": "",
        "desc": "QA and design for new internal transaction system.<br/>" +
            "Assist company moving from custom internal transaction software to ControlMoney system.<br/>Involved QA and design of UI for processing transactions, " +
            "as well as creating training videos and materials."
    }, {
        "name": "Nepal Travel Technology",
        "title": "Build a portal site for booking Hotel, Treks, Transportation",
        "dates": "July 2011 - Dec 2011",
        "location": "Thamel, Nepal",
        "desc": "Build booking portal for hotels and activities in Nepal.<br/>" +
            "Create custom Joomla site using HTML, CSS, Javascript, PHP and Photoshop."
    }, {
        "name": "UNESCO Forest Map",
        "title": "Website, Map Data",
        "dates": "Sep 2009 - Oct 2009",
        "location": "Mombasa, Kenya",
        "desc": "Collect GPS data for coastal forest for UNESCO.<br/>" +
            "Create a page with a Google Map showing the forest boundaries for purpose of review by UNESCO."
    }]
};

var view = {
    init: function() {

        this.displayHeader();
        this.displaySkills();
        this.displayContact();
        this.displaySchools();
        this.displayOnline();
        this.displayWork();
        this.displayProjects();

    },
    displaySkills: function() {
        if (bio.skills.length > 0) {
            $("#header").append(HTMLskillsStart);
            for (i = 0; i < bio.skills.length; i++) {
                HTMLskillsAppend = HTMLskills.replace("%data%", bio.skills[i]);
                $("#skills").append(HTMLskillsAppend);
            }
        }
    },
    displayHeader: function() {
        HTMLheaderName = HTMLheaderName.replace("%data%", bio.Name);
        HTMLheaderRole = HTMLheaderRole.replace("%data%", bio.role);
        HTMLbioPic = HTMLbioPic.replace('%data%', bio.photo);
        HTMLwelcomeMsg = HTMLwelcomeMsg.replace("%data%", bio.message);
        $("#header").append(HTMLheaderRole);
        $("#header").prepend(HTMLheaderName);
        $("#header").prepend(HTMLbioPic);
        $("#header").append(HTMLwelcomeMsg);
        $("#header").prepend(internationalizeButton);
    },
    displayContact: function() {
        HTMLmobile = HTMLmobile.replace("%data%", bio.contacts.telLink);
        HTMLmobile = HTMLmobile.replace("%data%", bio.contacts.mobile);
        HTMLemail = HTMLemail.replace("%data%", bio.contacts.email);
        HTMLemail = HTMLemail.replace("%data%", bio.contacts.email);
        HTMLgithub = HTMLgithub.replace("%data%", bio.contacts.github);
        HTMLgithub = HTMLgithub.replace("%data%", bio.contacts.github);
        $("#footerContacts").append(HTMLmobile);
        $("#footerContacts").append(HTMLemail);
        $("#footerContacts").append(HTMLgithub);
    },
    displaySchools: function() {
        for (var i in education.schools) {
            if (education.schools[i].name) {
                eduName = HTMLschoolName.replace("%data%", education.schools[i].name);
                eduDegree = HTMLschoolDegree.replace("%data%", education.schools[i].degree);
                eduDate = HTMLschoolDates.replace("%data%", education.schools[i].dates);
                eduLoc = HTMLschoolLocation.replace("%data%", education.schools[i].location);
                eduMajor = HTMLschoolMajor.replace("%data%", education.schools[i].major);
                finalEntry = eduName + eduDegree + eduDate + eduLoc + eduMajor;
                $("#education").append(HTMLschoolStart);
                $(".education-entry:last").append(finalEntry);
            }
        }
    },
    displayOnline: function() {
        for (var i in education.online) {
            if (education.online[i].name) {
                schoolsAppend = HTMLschoolName.replace("%data%", education.online[i].name);
                schoolsDegree = HTMLschoolDegree.replace("%data%", education.online[i].degree);
                finalEntry = schoolsAppend + schoolsDegree;
                $("#education").append(HTMLschoolStart);
                $(".education-entry:last").append(finalEntry);
            }
        }
    },
    displayWork: function() {
        for (var i in work.jobs) {
            if (work.jobs[i].name) {
                jobEmp = HTMLworkEmployer.replace("%data%", work.jobs[i].name);
                jobTitle = HTMLworkTitle.replace("%data%", work.jobs[i].title);
                jobDate = HTMLworkDates.replace('%data%', work.jobs[i].dates);
                jobLoc = HTMLworkLocation.replace('%data%', work.jobs[i].location);
                jobDesc = HTMLworkDescription.replace('%data%', work.jobs[i].desc);
                finalEntry = jobEmp + jobTitle + jobDate + jobLoc + jobDesc;
                $("#workExperience").append(HTMLworkStart);
                $(".work-entry:last").append(finalEntry);
            }
        }
    },
    displayProjects: function() {
        for (var i in projects.projects) {
            if (projects.projects[i].title) {
                projTitle = HTMLprojectTitle.replace("%data%", projects.projects[i].title);
                projDate = HTMLprojectDates.replace('%data%', projects.projects[i].dates);
                projDesc = HTMLprojectDescription.replace('%data%', projects.projects[i].desc);
                projImg = HTMLprojectImage.replace("%data%", projects.projects[i].image);
                projImg = "";
                finalEntry = projTitle + projDate + projDesc + projImg;
                $("#projects").append(HTMLprojectStart);
                $(".project-entry:last").append(finalEntry);
            }
        }
    }
};

var kraken = {
    init: function() {
        view.init();
        $("#mapDiv").append(googleMap);
        kraken.inName(bio);
    },
    inName: function inName(myBio) {
        var fullname = bio.Name;
        var splitname = fullname.trim().split(" ");
        splitname[1] = splitname[1].toUpperCase();
        splitname[0] = splitname[0].slice(0, 1).toUpperCase() + splitname[0].slice(1).toLowerCase();
        return splitname[0] + " " + splitname[1];
    }
};

// Process the data and display it.
kraken.init();